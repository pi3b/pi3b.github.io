# StateManager介绍
![avatar](_media/favicon.ico)

## 什么是StateManager

> StateManager是专为上位机开发人员设计的，用于工业智能化开发的状态机框架

## StateManager的由来
自2009年开始，作者就开始接触传统的上位机软件，如WINCC、组态王、INTOUCH、LabView，他们通用性强，功能细化至界面的拖拽、通讯点位的下拉配置等，对于缺乏编程基础的开发人员来说，上手快，方便快捷。

而近些年来，对于模块化装备为主的自动化工厂，上位机软件工程师需要应对的设备五花八门，非标准协议等特殊情况非常之多，例如对接各种PLC、对接MES/ERP、对BCR进行通讯控制、刻字机的数据交换、机器人的通讯、图像拍照分析等等，传统工具软件虽然有着脚本系统及插件扩展，却很难做到全面，而且难以利用丰富的三方资源。遇到特殊问题时经常连厂商自己也不能给出满意的方案，毕竟厂商专注的是通用性，而我们都会遇到自己的特殊情况。

作者认为，在数字化、智能化工厂成为主流的今天，__高级编程语言几乎已经成为了自动化技术人员的标配技能__！丰富的开源社区以及技术交流平台，已经足够我们轻松的实现各种独立功能。读写数据库、读写PLC、TCP收发数据、画面显示等等..

我们希望将更多的精力专注于业务逻辑、节拍、时序，而并非线程管理、异常处理等必须小心编写的代码。

我们不希望专注于组件自身实现的原理，只要知道其功能和用法，能够组合在一起来实现我们的目的，就是我们的工作需求。

我们需要的是类似于组态软件的一种稳定的代码执行框架，又能灵活到可以按照我们自己编写的业务逻辑条件执行任意功能，这些功能可以来自任意三方组件或自己编写的代码!

没错！这正是StateManager在做的事，可以个性化定制开发的、高弹性的、轻量级组态框架。

## StateManager的特点
1. 参考了PLC扫描周期的原理，主要完成周期性逻辑指令的执行。（虽然现在很多PLC也能够执行VB、Pascal等脚本，但无法直接使用Windows平台强大功能）。
2. 手自一体，手动操作界面上的按钮可用于自动逻辑时调用，避免了代码重复，也使自动业务的理解变的简洁、高效。
3. 将业务按工位对象划分或拆分，并表达为一个个状态图，再将状态图编写为C#状态处理函数（或JS/VBS脚本函数），即可实现任意复杂逻辑。
4. 对第三方组件全面支持，也可开发基于本框架的组件。
5. 借鉴WINCC的连接管理及信号采集机制，并优化为主动、按需、同步、直接从设备采集，降低了数据流量的同时提高了数据实时性，也可灵活运用为周期采集。

